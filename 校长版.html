<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é¢†æ’­æ•™è‚² - æ ¡é•¿ä»ªè¡¨ç›˜</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/layui/2.8.0/css/layui.min.css">
    <style>
        :root {
            --primary-color: #1890ff;
            --warning-color: #faad14;
            --success-color: #52c41a;
            --danger-color: #ff4d4f;
        }
        
        body {
            margin: 0;
            background: #f5f7fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto;
            -webkit-tap-highlight-color: transparent;
        }

        /* ç§»åŠ¨ç«¯å¤´éƒ¨å¯¼èˆª */
        .mobile-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: white;
            padding: 0 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 100;
        }

        .mobile-logo {
            font-size: 16px;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .mobile-logo img {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }

        /* ä¸»å®¹å™¨ */
        .mobile-container {
            padding: 72px 16px 80px;
            box-sizing: border-box;
        }

        /* ç»Ÿè®¡å¡ç‰‡ç½‘æ ¼ */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-card {
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            padding: 16px;
            border-radius: 12px;
            color: white;
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 4px;
            color: white;
        }

        .stat-title {
            font-size: 14px;
            opacity: 0.85;
        }

        /* æ•™å­¦è´¨é‡å¡ç‰‡ */
        .quality-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .quality-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
        }

        .performance-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .indicator-label {
            width: 80px;
            font-size: 14px;
            color: #666;
        }

        .indicator-bar {
            flex: 1;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            margin: 0 8px;
            overflow: hidden;
        }

        .indicator-progress {
            height: 100%;
            background: var(--primary-color);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .indicator-value {
            width: 40px;
            font-size: 14px;
            color: #333;
            text-align: right;
        }

        /* æ”¯å‡ºåˆ†æå¡ç‰‡ */
        .expense-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .expense-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .expense-item:last-child {
            border-bottom: none;
        }

        .expense-name {
            font-size: 14px;
            color: #666;
        }

        .expense-value {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }

        .trend-up {
            color: #ff4d4f;
            margin-left: 4px;
        }

        .trend-down {
            color: #52c41a;
            margin-left: 4px;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            height: 280px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* é¢„è­¦é¢æ¿ */
        .alerts-panel {
            margin-top: 16px;
        }

        .alert-item {
            background: #fff2f0;
            border: 1px solid #ffccc7;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            animation: pulse 2s infinite;
        }

        .alert-item.warning {
            background: #fffbe6;
            border-color: #ffe58f;
        }

        /* AIåŠ©æ‰‹å¯¹è¯æ¡† */
        .ai-dialog {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -4px 16px rgba(0,0,0,0.1);
            transform: translateY(100%);
            transition: transform 0.3s ease-out;
            z-index: 1000;
            height: 80vh; /* æ”¹ä¸ºå›ºå®šé«˜åº¦ */
            display: flex;
            flex-direction: column;
            overscroll-behavior: contain; /* é˜²æ­¢æ»šåŠ¨ä¼ æ’­ */
        }

        .ai-dialog.active {
            transform: translateY(0);
        }

        .ai-header {
            padding: 16px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-close {
            padding: 8px;
            cursor: pointer;
        }

        .ai-body {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain; /* é˜²æ­¢æ»šåŠ¨ä¼ æ’­ */
            position: relative; /* åˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡ */
        }
        
        /* æ·»åŠ æ»šåŠ¨æ¡æ ·å¼ */
        .ai-body::-webkit-scrollbar {
            width: 4px;
        }
        
        .ai-body::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 2px;
        }
        
        .ai-body::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 2px;
        }

        .message {
            margin-bottom: 12px;
            padding: 12px;
            border-radius: 12px;
            max-width: 85%;
        }

        .user-msg {
            background: #f0f7ff;
            margin-left: auto;
        }

        .ai-msg {
            background: #f6ffed;
            margin-right: auto;
        }

        .ai-input {
            padding: 12px 16px;
            border-top: 1px solid #f0f0f0;
        }

        /* åº•éƒ¨å¯¼èˆªæ  */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
            z-index: 99;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4px 12px;
            color: #666;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        /* é®ç½©å±‚ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s;
            z-index: 999;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .touch-feedback {
            transition: opacity 0.2s;
        }

        .touch-feedback:active {
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header class="mobile-header">
        <div class="mobile-logo">
            <img src="/api/placeholder/24/24" alt="logo">
            é¢†æ’­æ•™è‚² - æ·±åœ³æ ¡åŒº
        </div>
        <div class="layui-icon layui-icon-notice">
            <span class="layui-badge-dot"></span>
        </div>
    </header>

    <!-- ä¸»å®¹å™¨ -->
    <div class="mobile-container">
        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stat-grid">
            <div class="stat-card touch-feedback">
                <div class="stat-value number-animate">Â¥104,000</div>
                <div class="stat-title">æœ¬æœˆè¥æ”¶</div>
            </div>
            <div class="stat-card touch-feedback" style="background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%);">
                <div class="stat-value number-animate">68%</div>
                <div class="stat-title">æ¯›åˆ©ç‡</div>
            </div>
        </div>

        <!-- æ•™å­¦è´¨é‡åˆ†æ -->
        <div class="quality-card">
            <div class="quality-title">æ•™å­¦è´¨é‡åˆ†æ</div>
            <div class="performance-indicator">
                <span class="indicator-label">çŸ­è§†é¢‘P1</span>
                <div class="indicator-bar">
                    <div class="indicator-progress" style="width: 95%;"></div>
                </div>
                <span class="indicator-value">95%</span>
            </div>
            <div class="performance-indicator">
                <span class="indicator-label">ç›´æ’­è¿è¥</span>
                <div class="indicator-bar">
                    <div class="indicator-progress" style="width: 82%;"></div>
                </div>
                <span class="indicator-value">82%</span>
            </div>
            <div class="performance-indicator">
                <span class="indicator-label">å®æˆ˜ç›˜ç­</span>
                <div class="indicator-bar">
                    <div class="indicator-progress" style="width: 88%;"></div>
                </div>
                <span class="indicator-value">88%</span>
            </div>
        </div>

        <!-- æ”¯å‡ºåˆ†æ -->
        <div class="expense-card">
            <div class="expense-title">è¿è¥æ”¯å‡ºåˆ†æ</div>
            <div class="expense-item">
                <span class="expense-name">æ•™å¸ˆè–ªèµ„</span>
                <span class="expense-value">
                    Â¥34,500
                    <small class="trend-up">â†‘8%</small>
                </span>
            </div>
            <div class="expense-item">
                <span class="expense-name">åŠå…¬ç”¨å“</span>
                <span class="expense-value">
                    Â¥1,200
                    <small class="trend-up">â†‘15%</small>
                </span>
            </div>
            <div class="expense-item">
                <span class="expense-name">æ°´ç”µè´¹</span>
                <span class="expense-value">
                    Â¥800
                    <small class="trend-down">â†“5%</small>
                </span>
            </div>
            <div class="expense-item">
                <span class="expense-name">å¸‚åœºæ¨å¹¿</span>
                <span class="expense-value">
                    Â¥12,500
                    <small class="trend-down">â†“3%</small>
                </span>
            </div>
        </div>

        <!-- å›¾è¡¨åŒºåŸŸ -->
        <div class="chart-container" id="mainChart"></div>

        <!-- é¢„è­¦é¢æ¿ -->
        <div class="alerts-panel">
            <h3>
                <i class="layui-icon layui-icon-warning" style="color: var(--warning-color);"></i>
                å®æ—¶é¢„è­¦
            </h3>
            <div class="alert-item">
                <strong>æ•™å­¦è´¨é‡é¢„è­¦</strong><br>
                ç›´æ’­è¿è¥P2ç‹è€å¸ˆè¿‘3æ¬¡è¯¾ç¨‹è¯„åˆ†ä½äº4.0ï¼Œå»ºè®®æ•™å­¦æŒ‡å¯¼
            </div>
            <div class="alert-item warning">
                <strong>è¿è¥æˆæœ¬é¢„è­¦</strong><br>
                åŠå…¬ç”¨å“æ”¯å‡ºè¶…å‡ºæœˆåº¦é¢„ç®—15%ï¼Œè¯·å…³æ³¨ä½¿ç”¨æƒ…å†µ
            </div>
            <div class="alert-item warning">
                <strong>é€¾æœŸé¢„è­¦</strong><br>
                ç›´æ’­è¿è¥P25åå­¦å‘˜ï¼Œé™ˆæ—èŠï¼Œå´æµ©æœ¬æœˆ12æ—¥è¿˜æ¬¾ï¼Œè¿˜å·®3æ—¥åˆ°æœŸï¼ŒåŠæ—¶æé†’ã€‚
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆª -->
    <nav class="mobile-nav">
        <div class="nav-item active">
            <i class="layui-icon layui-icon-home"></i>
            <span>é¦–é¡µ</span>
        </div>
        <div class="nav-item" onclick="toggleAI()">
            <i class="layui-icon layui-icon-dialogue"></i>
            <span>AIåŠ©æ‰‹</span>
        </div>
        <div class="nav-item">
            <i class="layui-icon layui-icon-chart"></i>
            <span>ç»Ÿè®¡</span>
        </div>
        <div class="nav-item">
            <i class="layui-icon layui-icon-user"></i>
            <span>æˆ‘çš„</span>
        </div>
    </nav>

    <!-- AIåŠ©æ‰‹å¯¹è¯æ¡† -->
    <div class="ai-dialog" id="aiDialog">
        <div class="ai-header">
            <span>
                <i class="layui-icon layui-icon-dialogue"></i>
                æ‚¨çš„åŠ©æ‰‹ å°æ’­
            </span>
            <div class="ai-close" onclick="toggleAI()">
                <i class="layui-icon layui-icon-close"></i>
            </div>
        </div>
        <div class="ai-body" id="chatBody">
            <div class="message ai-msg">
                æ ¡é•¿æ‚¨å¥½,è¿™æ˜¯ä»Šæ—¥æ ¡åŒºè¿è¥æŠ¥å‘Šï¼š

                ğŸ“Š å…³é”®æŒ‡æ ‡ï¼š
                - è¥æ”¶ï¼šÂ¥104,000 (ç›®æ ‡å®Œæˆç‡85%)
                - å®é™…å›æ¬¾ï¼šÂ¥41,600 (è´·æ¬¾é€¾æœŸç‡8.5%)
                - å°±ä¸šç‡ï¼š92% (è¾ƒä¸Šæœˆ+5%)

                âš ï¸ éœ€å…³æ³¨ï¼š
                - å®æˆ˜ç›˜ç­ä¸»æ’­è¯¾ç¨‹æ»¡æ„åº¦ä¸‹é™15%
                - æœ‰3åå­¦å‘˜è´·æ¬¾é€¾æœŸè¶…60å¤©
                - çŸ­è§†é¢‘P1å°±ä¸šç‡åä½

                éœ€è¦äº†è§£å…·ä½“æƒ…å†µå—ï¼Ÿ
            </div>
        </div>
        <div class="ai-input">
            <div class="layui-input-group">
                <input type="text" id="userInput" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." class="layui-input">
                <div class="layui-input-suffix">
                    <button class="layui-btn" onclick="sendMessage()">å‘é€</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div class="overlay" id="overlay" onclick="toggleAI()"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/layui/2.8.0/layui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script>
        // AIå¯¹è¯åŠŸèƒ½
        let aiResponses = {
            "è´¨é‡": `æ ¡é•¿æ‚¨å¥½,ä»¥ä¸‹æ˜¯æ•™å­¦è´¨é‡åˆ†æï¼š

ğŸ“Š æ•™å­¦è´¨é‡é—®é¢˜ï¼š
- å®æˆ˜ç›˜ç­æè€å¸ˆè¿‘æœŸè¯¾è¯„ï¼š3.6ã€3.8ã€3.7
- ä¸»è¦é—®é¢˜ï¼šå®æ“æ¡ˆä¾‹é™ˆæ—§ã€å¹³å°æ›´æ–°æœªè·Ÿè¿›
- å»ºè®®ï¼š1. æ›´æ–°ç›´æ’­å¸¦è´§å®æ“æ¡ˆä¾‹
        2. å¢åŠ æŠ–éŸ³æœ€æ–°ç®—æ³•è§£æ
        3. å®‰æ’æ•™å¸ˆå‚åŠ å¹³å°åŸ¹è®­`,

            "é€¾æœŸ": `ğŸ’° è´·æ¬¾é€¾æœŸæƒ…å†µï¼š
- 3åå­¦å‘˜é€¾æœŸ60å¤©ä»¥ä¸Š
  é™¶è¹ï¼šé€¾æœŸ62å¤©ï¼Œå¾…è¿˜12,000å…ƒ
  ç‹é£ï¼šé€¾æœŸ75å¤©ï¼Œå¾…è¿˜15,000å…ƒ
  éƒ‘ä¹å†°ï¼šé€¾æœŸ68å¤©ï¼Œå¾…è¿˜8,000å…ƒ
- å»ºè®®ï¼š1. å°±ä¸šéƒ¨ä¼˜å…ˆæ¨èå·¥ä½œ
        2. åè°ƒåˆ†æœŸè¿˜æ¬¾æ–¹æ¡ˆ
        3. å»ºç«‹é€¾æœŸé¢„è­¦æœºåˆ¶`,

            "å°±ä¸š": `æœ¬æœˆå°±ä¸šæƒ…å†µåˆ†æï¼š

ğŸ¯ å°±ä¸šå»å‘åˆ†å¸ƒï¼š
1. MCNæœºæ„ï¼š45%
   - ä¸€çº¿å¹³å°ï¼š25%
   - äºŒçº¿å¹³å°ï¼š20%
   
2. è‡ªä¸»åˆ›ä¸šï¼š30%
   - ä¸ªäººIPï¼š18%
   - å•†å®¶åˆä½œï¼š12%
   
3. ä¼ä¸šè¿è¥ï¼š25%
   - å“ç‰Œæ–¹ï¼š15%
   - ä»£è¿è¥ï¼š10%

ğŸ“Š è–ªèµ„åˆ†å¸ƒï¼š
- 8Kä»¥ä¸‹ï¼š25%
- 8K-15Kï¼š45%
- 15Kä»¥ä¸Šï¼š30%`,

            "ä¸šç»©": `æ ¡é•¿ï¼Œè¿™æ˜¯æœ¬æœˆä¸šç»©æ·±åº¦åˆ†æï¼š

ğŸ“ˆ æ”¶å…¥æ„æˆï¼š
è¥æ”¶104,000å…ƒ
- çŸ­è§†é¢‘å¸¦è´§ç­ï¼š45,000å…ƒ
- ç›´æ’­è¿è¥ç­ï¼š38,000å…ƒ
- æ–°åª’ä½“è¥é”€ç­ï¼š21,000å…ƒ

ğŸ’¹ å›æ¬¾åˆ†æï¼š
- å®æ”¶ï¼š41,600å…ƒ
- è´·æ¬¾ï¼š62,400å…ƒ
- é€¾æœŸç‡ï¼š8.5% (è¡Œä¸šå‡å€¼12%)`,

            "å»ºè®®": `åŸºäºå½“å‰æ•°æ®ï¼Œå‘æ ¡é•¿å»ºè®®å¦‚ä¸‹ï¼š

1ï¸âƒ£ è¯¾ç¨‹å‡çº§æ–¹æ¡ˆï¼š
- å¼•å…¥ç›´æ’­é—´æ•°æ®åˆ†ææ¨¡å—
- å¢è®¾çŸ­è§†é¢‘å‰ªè¾‘ç‰¹è®­è¥
- æ–°å¢ç”µå•†é€‰å“å®æ“è¯¾ç¨‹

2ï¸âƒ£ é£é™©æ§åˆ¶å»ºè®®ï¼š
- å®Œå–„è´·æ¬¾èµ„è´¨å®¡æ ¸
- å»ºç«‹è¿˜æ¬¾èƒ½åŠ›è¯„ä¼°ä½“ç³»
- è®¾ç«‹è¿˜æ¬¾é¢„è­¦æœºåˆ¶

3ï¸âƒ£ å°±ä¸šæå‡ç­–ç•¥ï¼š
- æ·±åŒ–MCNæœºæ„åˆä½œ
- è®¾ç«‹åˆ›ä¸šå­µåŒ–åŸºåœ°
- ç»„å»ºä¼˜ç§€å­¦å‘˜åˆ†äº«ä¼š`
        };

        function toggleAI() {
            const dialog = document.getElementById('aiDialog');
            const overlay = document.getElementById('overlay');
            dialog.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function sendMessage() {
            let input = document.getElementById('userInput');
            let message = input.value.trim();
            if (!message) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addMessage(message, 'user');
            input.value = '';

            // æ¨¡æ‹ŸAIå“åº”
            setTimeout(() => {
                let response = "æ ¡é•¿ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹å“ªäº›æ–¹é¢çš„æƒ…å†µï¼š\n- æ•™å­¦è´¨é‡å’Œæ»¡æ„åº¦\n- è´·æ¬¾é€¾æœŸè¿½è¸ª\n- å°±ä¸šæ•°æ®åˆ†æ\n- ä¸šç»©å®Œæˆæƒ…å†µ\n- è¿è¥æ”¹å–„å»ºè®®";
                
                for (let key in aiResponses) {
                    if (message.includes(key)) {
                        response = aiResponses[key];
                        break;
                    }
                }
                addMessage(response, 'ai');
            }, 500);
        }

        function addMessage(text, type) {
            let chatBody = document.getElementById('chatBody');
            let div = document.createElement('div');
            div.className = `message ${type}-msg`;
            div.innerText = text;
            chatBody.appendChild(div);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // åˆå§‹åŒ–å›¾è¡¨
        var chartDom = document.getElementById('mainChart');
        var myChart = echarts.init(chartDom);
        var option = {
            title: {
                text: 'æ•™å­¦è´¨é‡ä¸é€¾æœŸç‡å…³ç³»åˆ†æ',
                left: 'center',
                textStyle: {
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data: ['è¯¾ç¨‹æ»¡æ„åº¦', 'é€¾æœŸç‡', 'æ•™å¸ˆè¯„åˆ†'],
                bottom: '0%',
                textStyle: {
                    fontSize: 12
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '15%',
                top: '15%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['çŸ­è§†é¢‘P1', 'ç›´æ’­P2', 'å®æˆ˜ç­', 'é¢„è¯¾ç­', 'å®è®­è¥'],
                axisLabel: {
                    fontSize: 12
                }
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    fontSize: 12
                }
            },
            series: [
                {
                    name: 'è¯¾ç¨‹æ»¡æ„åº¦',
                    type: 'line',
                    areaStyle: {
                        opacity: 0.1
                    },
                    emphasis: {
                        focus: 'series'
                    },
                    data: [95, 82, 88, 91, 86]
                },
                {
                    name: 'é€¾æœŸç‡',
                    type: 'line',
                    areaStyle: {
                        opacity: 0.1
                    },
                    emphasis: {
                        focus: 'series'
                    },
                    data: [8.5, 12.3, 10.2, 7.8, 9.5]
                },
                {
                    name: 'æ•™å¸ˆè¯„åˆ†',
                    type: 'line',
                    areaStyle: {
                        opacity: 0.1
                    },
                    emphasis: {
                        focus: 'series'
                    },
                    data: [4.8, 3.7, 4.2, 4.5, 4.1]
                }
            ]
        };
        myChart.setOption(option);

        // åŠ¨æ€æ•°æ®æ›´æ–°
        function updateData() {
            let randomIncrease = () => Math.floor(Math.random() * 5) - 2;
            
            option.series.forEach(series => {
                series.data = series.data.map(value => {
                    let newValue = value + randomIncrease() * 0.1;
                    return Number(Math.max(0, newValue).toFixed(1));
                });
            });
            
            myChart.setOption(option);
        }

        // å®šæ—¶æ›´æ–°æ•°æ®
        setInterval(updateData, 5000);

        // å“åº”å¼å¤„ç†
        window.addEventListener('resize', function() {
            myChart.resize();
        });

        // æ•°å­—åŠ¨ç”»æ•ˆæœ
        function animateNumber(element, start, end, duration) {
            let range = end - start;
            let current = start;
            let increment = range / (duration / 16);
            let timer = setInterval(function() {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    clearInterval(timer);
                    current = end;
                }
                element.textContent = Math.round(current).toLocaleString('zh-CN');
            }, 16);
        }

        // åˆå§‹åŒ–æ•°å­—åŠ¨ç”»
        document.querySelectorAll('.number-animate').forEach(el => {
            let value = parseInt(el.textContent.replace(/[^0-9]/g, ''));
            animateNumber(el, 0, value, 1000);
        });

        // ç»‘å®šå›è½¦äº‹ä»¶
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
        setInterval(() => {
            document.querySelectorAll('.number-animate').forEach(el => {
                let currentValue = parseInt(el.textContent.replace(/[^0-9]/g, ''));
                let newValue = currentValue + Math.floor(Math.random() * 5) - 2;
                if (newValue >= 0) {
                    animateNumber(el, currentValue, newValue, 500);
                }
            });
        }, 8000);

        // ä¼˜åŒ–æ»šåŠ¨å¤„ç†
        function handleScroll(e) {
            const aiBody = e.target.closest('.ai-body');
            if (!aiBody) {
                e.preventDefault();
                return;
            }

            const scrollTop = aiBody.scrollTop;
            const scrollHeight = aiBody.scrollHeight;
            const clientHeight = aiBody.clientHeight;

            // åœ¨é¡¶éƒ¨æˆ–åº•éƒ¨æ—¶é˜»æ­¢ç»§ç»­æ»šåŠ¨
            if ((scrollTop <= 0 && e.touches[0].clientY > e.touches[0].clientY) ||
                (scrollTop + clientHeight >= scrollHeight && e.touches[0].clientY < e.touches[0].clientY)) {
                e.preventDefault();
            }
        }

        // æ·»åŠ è§¦æ‘¸äº‹ä»¶ç›‘å¬
        document.body.addEventListener('touchmove', handleScroll, { passive: false });
        
        // æ‰“å¼€å¯¹è¯æ¡†æ—¶ç¦æ­¢èƒŒæ™¯æ»šåŠ¨
        function toggleAI() {
            const dialog = document.getElementById('aiDialog');
            const overlay = document.getElementById('overlay');
            const isOpening = !dialog.classList.contains('active');
            
            dialog.classList.toggle('active');
            overlay.classList.toggle('active');
            
            // åˆ‡æ¢bodyçš„æ»šåŠ¨çŠ¶æ€
            document.body.style.overflow = isOpening ? 'hidden' : '';
        }

        // åˆå§‹åŒ–è§¦æ‘¸äº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            // ä¸ºæ‰€æœ‰è§¦æ‘¸åé¦ˆå…ƒç´ æ·»åŠ è§¦æ‘¸äº‹ä»¶
            document.querySelectorAll('.touch-feedback').forEach(el => {
                el.addEventListener('touchstart', function() {
                    this.style.opacity = '0.7';
                });
                
                el.addEventListener('touchend', function() {
                    this.style.opacity = '1';
                });
            });
        });
    </script>
</body>
</html>
